# run_tests.py (—Å–æ–∑–¥–∞–π—Ç–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
import subprocess
import sys

def main():
    """–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π."""
    print("üöÄ –ó–ê–ü–£–°–ö –¢–ï–°–¢–û–í PLAYWRIGHT")
    print("=" * 60)

    # –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
    command = [
        "pytest",
        "tests/test_google.py",
        "-v",           # –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
        "--headed",     # –í–∏–¥–∏–º—ã–π –±—Ä–∞—É–∑–µ—Ä
        "--tb=short",   # –ö–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
    ]

    # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã
    result = subprocess.run(command)

    print("=" * 60)
    if result.returncode == 0:
        print("üéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!")
    else:
        print("‚ö† –ù–ï–ö–û–¢–û–†–´–ï –¢–ï–°–¢–´ –ù–ï –ü–†–û–®–õ–ò")

    return result.returncode

if __name__ == "__main__":
    sys.exit(main())